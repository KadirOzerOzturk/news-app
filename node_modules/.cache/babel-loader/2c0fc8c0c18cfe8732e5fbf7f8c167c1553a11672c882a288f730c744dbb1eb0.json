{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import NewsCard from'../components/NewsCard';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Home(){const[news,setNews]=useState([]);const[pendingApiCall,setPendingApiCall]=useState(true);const[subject,setSubject]=useState(\"tr\");const[language,setLanguage]=useState(\"tr\");const date=new Date();date.setDate(date.getDate()-1);useEffect(()=>{const fetchData=async()=>{try{const response=await axios.get(\"https://newsapi.org/v2/top-headlines?country=tr&apiKey=b35395bced044420924bf3b283fcf780\");setPendingApiCall(false);setNews(response.data);console.log(response.data);}catch(error){console.error('Error fetching news:',error);// Handle error state or display error message to the user\n}};fetchData();},[]);useEffect(()=>{const fetchDataBySubject=async()=>{try{let apiUrl='';if(subject==='world'){apiUrl=\"https://newsapi.org/v2/top-headlines?country=us&from=\".concat(date,\"&sortBy=publishedAt&apiKey=b35395bced044420924bf3b283fcf780\");}else if(subject==='technology'||subject==='business'){apiUrl=\"https://newsapi.org/v2/everything?source&q=\".concat(subject,\"&language=\").concat(language,\"&from=\").concat(date,\"&sortBy=publishedAt&apiKey=b35395bced044420924bf3b283fcf780\");}else if(subject==='sports'||subject==='science'){apiUrl=\"https://newsapi.org/v2/top-headlines?sources&category=\".concat(subject,\"&language=\").concat(language,\"&from=\").concat(date,\"&sortBy=publishedAt&apiKey=b35395bced044420924bf3b283fcf780\");}else{apiUrl=\"https://newsapi.org/v2/top-headlines?country=tr&from=\".concat(date,\"&sortBy=publishedAt&apiKey=b35395bced044420924bf3b283fcf780\");}const response=await axios.get(apiUrl);setPendingApiCall(false);setNews(response.data);console.log(response.data);}catch(error){console.error('Error fetching news by subject:',error);// Handle error state or display error message to the user\n}};fetchDataBySubject();},[subject,language,date]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"flex gap-8\",children:[/*#__PURE__*/_jsx(\"li\",{onClick:()=>setSubject(\"turkey\"),className:\"text-2xl hover:border-b-4 border-dark-red px-4 py-2 rounded-sm cursor-pointer\",children:\"T\\xFCrkiye\"}),/*#__PURE__*/_jsx(\"li\",{onClick:()=>setSubject(\"world\"),className:\"text-2xl hover:border-b-4 border-dark-red px-4 py-2 rounded-sm cursor-pointer\",children:\"D\\xFCnya\"}),/*#__PURE__*/_jsx(\"li\",{onClick:()=>setSubject(\"sports\"),className:\"text-2xl hover:border-b-4 border-dark-red px-4 py-2 rounded-sm cursor-pointer\",children:\"Spor\"}),/*#__PURE__*/_jsx(\"li\",{onClick:()=>setSubject(\"technology\"),className:\"text-2xl hover:border-b-4 border-dark-red px-4 py-2 rounded-sm cursor-pointer\",children:\"Teknoloji\"}),/*#__PURE__*/_jsx(\"li\",{onClick:()=>setSubject(\"science\"),className:\"text-2xl hover:border-b-4 border-dark-red px-4 py-2 rounded-sm cursor-pointer\",children:\"Bilim\"}),/*#__PURE__*/_jsx(\"li\",{onClick:()=>setSubject(\"business\"),className:\"text-2xl hover:border-b-4 border-dark-red px-4 py-2 rounded-sm cursor-pointer\",children:\"Ekonomi\"})]})}),pendingApiCall?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-full h-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center space-x-1 text-sm text-gray-700\",children:[/*#__PURE__*/_jsx(\"svg\",{fill:\"none\",className:\"w-6 h-6 animate-spin\",viewBox:\"0 0 32 32\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{clipRule:\"evenodd\",d:\"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z\",fill:\"currentColor\",fillRule:\"evenodd\"})}),/*#__PURE__*/_jsx(\"div\",{children:\"Loading ...\"})]})}):/*#__PURE__*/_jsx(NewsCard,{news:news,pendingApiCall:pendingApiCall})]});}export default Home;","map":{"version":3,"names":["React","useState","useEffect","axios","NewsCard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","news","setNews","pendingApiCall","setPendingApiCall","subject","setSubject","language","setLanguage","date","Date","setDate","getDate","fetchData","response","get","data","console","log","error","fetchDataBySubject","apiUrl","concat","children","className","onClick","fill","viewBox","xmlns","clipRule","d","fillRule"],"sources":["C:/Users/oztur/OneDrive/Masa端st端/Projeler/NewsApp/frontend/src/pages/Home.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport NewsCard from '../components/NewsCard';\r\n\r\nfunction Home() {\r\n    const [news, setNews] = useState([]);\r\n    const [pendingApiCall, setPendingApiCall] = useState(true);\r\n    const [subject, setSubject] = useState(\"tr\");\r\n    const [language, setLanguage] = useState(\"tr\");\r\n    const date = new Date();\r\n    date.setDate(date.getDate() - 1);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const response = await axios.get(`https://newsapi.org/v2/top-headlines?country=tr&apiKey=b35395bced044420924bf3b283fcf780`);\r\n                setPendingApiCall(false);\r\n                setNews(response.data);\r\n                console.log(response.data);\r\n            } catch (error) {\r\n                console.error('Error fetching news:', error);\r\n                // Handle error state or display error message to the user\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const fetchDataBySubject = async () => {\r\n            try {\r\n                let apiUrl = '';\r\n                if (subject === 'world') {\r\n                    apiUrl = `https://newsapi.org/v2/top-headlines?country=us&from=${date}&sortBy=publishedAt&apiKey=b35395bced044420924bf3b283fcf780`;\r\n                } else if (subject === 'technology' || subject === 'business') {\r\n                    apiUrl = `https://newsapi.org/v2/everything?source&q=${subject}&language=${language}&from=${date}&sortBy=publishedAt&apiKey=b35395bced044420924bf3b283fcf780`;\r\n                } else if (subject === 'sports' || subject === 'science') {\r\n                    apiUrl = `https://newsapi.org/v2/top-headlines?sources&category=${subject}&language=${language}&from=${date}&sortBy=publishedAt&apiKey=b35395bced044420924bf3b283fcf780`;\r\n                } else {\r\n                    apiUrl = `https://newsapi.org/v2/top-headlines?country=tr&from=${date}&sortBy=publishedAt&apiKey=b35395bced044420924bf3b283fcf780`;\r\n                }\r\n\r\n                const response = await axios.get(apiUrl);\r\n                setPendingApiCall(false);\r\n                setNews(response.data);\r\n                console.log(response.data);\r\n            } catch (error) {\r\n                console.error('Error fetching news by subject:', error);\r\n                // Handle error state or display error message to the user\r\n            }\r\n        };\r\n\r\n        fetchDataBySubject();\r\n    }, [subject, language, date]);\r\n\r\n    return (\r\n        <>\r\n            \r\n            <div className='flex justify-center items-center'>\r\n                <ul className='flex gap-8'>\r\n                    <li onClick={() => setSubject(\"turkey\")} className='text-2xl hover:border-b-4 border-dark-red px-4 py-2 rounded-sm cursor-pointer'>\r\n                        T端rkiye\r\n                    </li>\r\n                    <li onClick={() => setSubject(\"world\")} className='text-2xl hover:border-b-4 border-dark-red px-4 py-2 rounded-sm cursor-pointer'>\r\n                        D端nya\r\n                    </li>\r\n                    <li onClick={() => setSubject(\"sports\")} className='text-2xl hover:border-b-4 border-dark-red px-4 py-2 rounded-sm cursor-pointer'>\r\n                        Spor\r\n                    </li>\r\n                    <li onClick={() => setSubject(\"technology\")} className='text-2xl hover:border-b-4 border-dark-red px-4 py-2 rounded-sm cursor-pointer'>\r\n                        Teknoloji\r\n                    </li>\r\n                    <li onClick={() => setSubject(\"science\")} className='text-2xl hover:border-b-4 border-dark-red px-4 py-2 rounded-sm cursor-pointer'>\r\n                        Bilim\r\n                    </li>\r\n                    <li onClick={() => setSubject(\"business\")} className='text-2xl hover:border-b-4 border-dark-red px-4 py-2 rounded-sm cursor-pointer'>\r\n                        Ekonomi\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            {pendingApiCall ? (\r\n                <div className=\"flex items-center justify-center w-full h-full\">\r\n                    <div className=\"flex justify-center items-center space-x-1 text-sm text-gray-700\">\r\n                        <svg fill='none' className=\"w-6 h-6 animate-spin\" viewBox=\"0 0 32 32\" xmlns='http://www.w3.org/2000/svg'>\r\n                            <path clipRule='evenodd' d='M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z' fill='currentColor' fillRule='evenodd' />\r\n                        </svg>\r\n                        <div>Loading ...</div>\r\n                    </div>\r\n                </div>\r\n            ) : <NewsCard news={news} pendingApiCall={pendingApiCall} />}\r\n            \r\n        </>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}